<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui">

	<h:body>
<f:metadata>
	<f:viewParam name="id" value="#{mbArticle.sousCatSelect}"></f:viewParam>
	<f:viewAction action="#{mbArticle.init()}"></f:viewAction>
	<f:viewAction action="#{mbHisto.init()}"></f:viewAction>
</f:metadata>	

	<ui:composition template="/arche.xhtml">
	<ui:define name="content" >
<div class="leftPage">

<br/>
<b:row>
 <b:column span="6" offset="3">
 <h3 style="color: #35cbdf; font-family: Arial, sans-serif; font-size:50px" align="center"  >Mes événements</h3></b:column>
</b:row>
<br/>


<h:form>
<b:panel style="border-color:white">
 <b:dataTable value="#{mbHisto.histoEvent}" selected-items="row" selectionMode="single"
               var="event"  span="8" offset="2" info="false">
    <b:dataTableColumn>
		<f:facet name="header"><h:outputText value="Date Validation"/></f:facet>
		<h:outputText value="#{event.e.dateValidation}">
			<f:convertDateTime pattern="#{mbUser.DATE_FORMAT}" />									
		</h:outputText>
    </b:dataTableColumn>
    <b:dataTableColumn>
		<f:facet name="header"><h:outputText value="Début"/></f:facet>
		<h:outputText value="#{event.e.dateDebut}">
			<f:convertDateTime pattern="#{mbUser.DATE_FORMAT}" />									
		</h:outputText>
    </b:dataTableColumn>
    <b:dataTableColumn>
		<f:facet name="header"><h:outputText value="Fin"/></f:facet>
		<h:outputText value="#{event.e.dateFin}">
			<f:convertDateTime pattern="#{mbUser.DATE_FORMAT}" />									
		</h:outputText>
    </b:dataTableColumn>
    <b:dataTableColumn value="#{event.e.rueLivraison}" label="Adresse livraison"/>
	<b:dataTableColumn>
		<f:facet name="header"><h:outputText value="Prix"/></f:facet>
		<h:outputText value="#{event.prix}">
		<f:convertNumber currencySymbol = "€" type = "currency"/>
		</h:outputText>
 	</b:dataTableColumn>
    
    
     <b:dataTableColumn label="" width="10px" > 
    							<b:commandButton value="commande" look="primary"
									style="width:100%" action="#{mbHisto.commandeByIdEvent(event.e.id)}" />
    </b:dataTableColumn>
  </b:dataTable>
  </b:panel>
 

<b:row>
<b:column span="3" offset="2">
 <h:commandButton action="/ajoutEventTest" value="Créer un nouvel événement" styleClass="btn btn-primary"/> </b:column>
</b:row>
<br/><br/>
</h:form> 
<br />
<br />
<br />

</div>
</ui:define>
</ui:composition>

</h:body>
</html>